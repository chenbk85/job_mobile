<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_32) on Tue Nov 27 09:40:41 CET 2012 -->
<TITLE>
TokenMetadata (apache-cassandra API)
</TITLE>

<META NAME="date" CONTENT="2012-11-27">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="TokenMetadata (apache-cassandra API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/TokenMetadata.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/apache/cassandra/locator/SimpleStrategy.html" title="class in org.apache.cassandra.locator"><B>PREV CLASS</B></A>&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?org/apache/cassandra/locator/TokenMetadata.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="TokenMetadata.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.apache.cassandra.locator</FONT>
<BR>
Class TokenMetadata</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><B>org.apache.cassandra.locator.TokenMetadata</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>TokenMetadata</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../org/apache/cassandra/locator/TokenMetadata.html#TokenMetadata()">TokenMetadata</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../org/apache/cassandra/locator/TokenMetadata.html#TokenMetadata(com.google.common.collect.BiMap)">TokenMetadata</A></B>(com.google.common.collect.BiMap&lt;<A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A>,java.net.InetAddress&gt;&nbsp;tokenToEndpointMap)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/cassandra/locator/TokenMetadata.html#addBootstrapToken(org.apache.cassandra.dht.Token, java.net.InetAddress)">addBootstrapToken</A></B>(<A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A>&nbsp;token,
                  java.net.InetAddress&nbsp;endpoint)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/cassandra/locator/TokenMetadata.html#addLeavingEndpoint(java.net.InetAddress)">addLeavingEndpoint</A></B>(java.net.InetAddress&nbsp;endpoint)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/cassandra/locator/TokenMetadata.html#addMovingEndpoint(org.apache.cassandra.dht.Token, java.net.InetAddress)">addMovingEndpoint</A></B>(<A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A>&nbsp;token,
                  java.net.InetAddress&nbsp;endpoint)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add a new moving endpoint</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/cassandra/locator/TokenMetadata.html#clearUnsafe()">clearUnsafe</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;used by tests</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../org/apache/cassandra/locator/TokenMetadata.html" title="class in org.apache.cassandra.locator">TokenMetadata</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/cassandra/locator/TokenMetadata.html#cloneAfterAllLeft()">cloneAfterAllLeft</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create a copy of TokenMetadata with tokenToEndpointMap reflecting situation after all
 current leave operations have finished.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../org/apache/cassandra/locator/TokenMetadata.html" title="class in org.apache.cassandra.locator">TokenMetadata</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/cassandra/locator/TokenMetadata.html#cloneAfterAllSettled()">cloneAfterAllSettled</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create a copy of TokenMetadata with tokenToEndpointMap reflecting situation after all
 current leave and move operations have finished.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../org/apache/cassandra/locator/TokenMetadata.html" title="class in org.apache.cassandra.locator">TokenMetadata</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/cassandra/locator/TokenMetadata.html#cloneOnlyTokenMap()">cloneOnlyTokenMap</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create a copy of TokenMetadata with only tokenToEndpointMap.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/cassandra/locator/TokenMetadata.html#firstToken(java.util.ArrayList, org.apache.cassandra.dht.Token)">firstToken</A></B>(java.util.ArrayList&lt;<A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A>&gt;&nbsp;ring,
           <A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A>&nbsp;start)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/cassandra/locator/TokenMetadata.html#firstTokenIndex(java.util.ArrayList, org.apache.cassandra.dht.Token, boolean)">firstTokenIndex</A></B>(java.util.ArrayList&nbsp;ring,
                <A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A>&nbsp;start,
                boolean&nbsp;insertMin)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Map&lt;<A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A>,java.net.InetAddress&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/cassandra/locator/TokenMetadata.html#getBootstrapTokens()">getBootstrapTokens</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;caller should not modify bootstrapTokens</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.net.InetAddress</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/cassandra/locator/TokenMetadata.html#getEndpoint(org.apache.cassandra.dht.Token)">getEndpoint</A></B>(<A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A>&nbsp;token)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Set&lt;java.net.InetAddress&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/cassandra/locator/TokenMetadata.html#getLeavingEndpoints()">getLeavingEndpoints</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;caller should not modify leavingEndpoints</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Set&lt;<A HREF="../../../../org/apache/cassandra/utils/Pair.html" title="class in org.apache.cassandra.utils">Pair</A>&lt;<A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A>,java.net.InetAddress&gt;&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/cassandra/locator/TokenMetadata.html#getMovingEndpoints()">getMovingEndpoints</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Endpoints which are migrating to the new tokens</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Map&lt;<A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A>,java.net.InetAddress&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/cassandra/locator/TokenMetadata.html#getNormalAndBootstrappingTokenToEndpointMap()">getNormalAndBootstrappingTokenToEndpointMap</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Map&lt;<A HREF="../../../../org/apache/cassandra/dht/Range.html" title="class in org.apache.cassandra.dht">Range</A>&lt;<A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A>&gt;,java.util.Collection&lt;java.net.InetAddress&gt;&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/cassandra/locator/TokenMetadata.html#getPendingRanges(java.lang.String)">getPendingRanges</A></B>(java.lang.String&nbsp;table)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a mutable map may be returned but caller should not modify it</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;<A HREF="../../../../org/apache/cassandra/dht/Range.html" title="class in org.apache.cassandra.dht">Range</A>&lt;<A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A>&gt;&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/cassandra/locator/TokenMetadata.html#getPendingRanges(java.lang.String, java.net.InetAddress)">getPendingRanges</A></B>(java.lang.String&nbsp;table,
                 java.net.InetAddress&nbsp;endpoint)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/cassandra/locator/TokenMetadata.html#getPredecessor(org.apache.cassandra.dht.Token)">getPredecessor</A></B>(<A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A>&nbsp;token)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../org/apache/cassandra/dht/Range.html" title="class in org.apache.cassandra.dht">Range</A>&lt;<A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/cassandra/locator/TokenMetadata.html#getPrimaryRangeFor(org.apache.cassandra.dht.Token)">getPrimaryRangeFor</A></B>(<A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A>&nbsp;right)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/cassandra/locator/TokenMetadata.html#getSuccessor(org.apache.cassandra.dht.Token)">getSuccessor</A></B>(<A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A>&nbsp;token)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/cassandra/locator/TokenMetadata.html#getToken(java.net.InetAddress)">getToken</A></B>(java.net.InetAddress&nbsp;endpoint)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Map&lt;<A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A>,java.net.InetAddress&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/cassandra/locator/TokenMetadata.html#getTokenToEndpointMapForReading()">getTokenToEndpointMapForReading</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Collection&lt;java.net.InetAddress&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/cassandra/locator/TokenMetadata.html#getWriteEndpoints(org.apache.cassandra.dht.Token, java.lang.String, java.util.Collection)">getWriteEndpoints</A></B>(<A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A>&nbsp;token,
                  java.lang.String&nbsp;table,
                  java.util.Collection&lt;java.net.InetAddress&gt;&nbsp;naturalEndpoints)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write endpoints may be different from read endpoints, because read endpoints only need care about the
 "natural" nodes for a token, but write endpoints also need to account for nodes that are bootstrapping
 into the ring, and write data there too so that they stay up to date during the bootstrap process.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/cassandra/locator/TokenMetadata.html#invalidateCaches()">invalidateCaches</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/cassandra/locator/TokenMetadata.html#isLeaving(java.net.InetAddress)">isLeaving</A></B>(java.net.InetAddress&nbsp;endpoint)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/cassandra/locator/TokenMetadata.html#isMember(java.net.InetAddress)">isMember</A></B>(java.net.InetAddress&nbsp;endpoint)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/cassandra/locator/TokenMetadata.html#isMoving(java.net.InetAddress)">isMoving</A></B>(java.net.InetAddress&nbsp;endpoint)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/cassandra/locator/TokenMetadata.html#pendingRangeChanges(java.net.InetAddress)">pendingRangeChanges</A></B>(java.net.InetAddress&nbsp;source)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/cassandra/locator/TokenMetadata.html#printPendingRanges()">printPendingRanges</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/cassandra/locator/TokenMetadata.html#register(org.apache.cassandra.locator.AbstractReplicationStrategy)">register</A></B>(<A HREF="../../../../org/apache/cassandra/locator/AbstractReplicationStrategy.html" title="class in org.apache.cassandra.locator">AbstractReplicationStrategy</A>&nbsp;subscriber)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/cassandra/locator/TokenMetadata.html#removeBootstrapToken(org.apache.cassandra.dht.Token)">removeBootstrapToken</A></B>(<A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A>&nbsp;token)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/cassandra/locator/TokenMetadata.html#removeEndpoint(java.net.InetAddress)">removeEndpoint</A></B>(java.net.InetAddress&nbsp;endpoint)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/cassandra/locator/TokenMetadata.html#removeFromMoving(java.net.InetAddress)">removeFromMoving</A></B>(java.net.InetAddress&nbsp;endpoint)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove pair of token/address from moving endpoints</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.util.Iterator&lt;<A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/cassandra/locator/TokenMetadata.html#ringIterator(java.util.ArrayList, org.apache.cassandra.dht.Token, boolean)">ringIterator</A></B>(java.util.ArrayList&lt;<A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A>&gt;&nbsp;ring,
             <A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A>&nbsp;start,
             boolean&nbsp;includeMin)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;iterator over the Tokens in the given ring, starting with the token for the node owning start
 (which does not have to be a Token in the ring)</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/cassandra/locator/TokenMetadata.html#setPendingRanges(java.lang.String, com.google.common.collect.Multimap)">setPendingRanges</A></B>(java.lang.String&nbsp;table,
                 com.google.common.collect.Multimap&lt;<A HREF="../../../../org/apache/cassandra/dht/Range.html" title="class in org.apache.cassandra.dht">Range</A>&lt;<A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A>&gt;,java.net.InetAddress&gt;&nbsp;rangeMap)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.ArrayList&lt;<A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/cassandra/locator/TokenMetadata.html#sortedTokens()">sortedTokens</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/cassandra/locator/TokenMetadata.html#toString()">toString</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/cassandra/locator/TokenMetadata.html#unregister(org.apache.cassandra.locator.AbstractReplicationStrategy)">unregister</A></B>(<A HREF="../../../../org/apache/cassandra/locator/AbstractReplicationStrategy.html" title="class in org.apache.cassandra.locator">AbstractReplicationStrategy</A>&nbsp;subscriber)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/cassandra/locator/TokenMetadata.html#updateNormalToken(org.apache.cassandra.dht.Token, java.net.InetAddress)">updateNormalToken</A></B>(<A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A>&nbsp;token,
                  java.net.InetAddress&nbsp;endpoint)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Update token map with a single token/endpoint pair in normal state.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/apache/cassandra/locator/TokenMetadata.html#updateNormalTokens(java.util.Set)">updateNormalTokens</A></B>(java.util.Set&lt;<A HREF="../../../../org/apache/cassandra/utils/Pair.html" title="class in org.apache.cassandra.utils">Pair</A>&lt;<A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A>,java.net.InetAddress&gt;&gt;&nbsp;tokenPairs)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Update token map with a set of token/endpoint pairs in normal state.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="TokenMetadata()"><!-- --></A><H3>
TokenMetadata</H3>
<PRE>
public <B>TokenMetadata</B>()</PRE>
<DL>
</DL>
<HR>

<A NAME="TokenMetadata(com.google.common.collect.BiMap)"><!-- --></A><H3>
TokenMetadata</H3>
<PRE>
public <B>TokenMetadata</B>(com.google.common.collect.BiMap&lt;<A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A>,java.net.InetAddress&gt;&nbsp;tokenToEndpointMap)</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="pendingRangeChanges(java.net.InetAddress)"><!-- --></A><H3>
pendingRangeChanges</H3>
<PRE>
public int <B>pendingRangeChanges</B>(java.net.InetAddress&nbsp;source)</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>the number of nodes bootstrapping into source's primary range</DL>
</DD>
</DL>
<HR>

<A NAME="updateNormalToken(org.apache.cassandra.dht.Token, java.net.InetAddress)"><!-- --></A><H3>
updateNormalToken</H3>
<PRE>
public void <B>updateNormalToken</B>(<A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A>&nbsp;token,
                              java.net.InetAddress&nbsp;endpoint)</PRE>
<DL>
<DD>Update token map with a single token/endpoint pair in normal state.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="updateNormalTokens(java.util.Set)"><!-- --></A><H3>
updateNormalTokens</H3>
<PRE>
public void <B>updateNormalTokens</B>(java.util.Set&lt;<A HREF="../../../../org/apache/cassandra/utils/Pair.html" title="class in org.apache.cassandra.utils">Pair</A>&lt;<A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A>,java.net.InetAddress&gt;&gt;&nbsp;tokenPairs)</PRE>
<DL>
<DD>Update token map with a set of token/endpoint pairs in normal state.

 Prefer this whenever there are multiple pairs to update, as each update (whether a single or multiple)
 is expensive (CASSANDRA-3831).
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>tokenPairs</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="addBootstrapToken(org.apache.cassandra.dht.Token, java.net.InetAddress)"><!-- --></A><H3>
addBootstrapToken</H3>
<PRE>
public void <B>addBootstrapToken</B>(<A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A>&nbsp;token,
                              java.net.InetAddress&nbsp;endpoint)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="removeBootstrapToken(org.apache.cassandra.dht.Token)"><!-- --></A><H3>
removeBootstrapToken</H3>
<PRE>
public void <B>removeBootstrapToken</B>(<A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A>&nbsp;token)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="addLeavingEndpoint(java.net.InetAddress)"><!-- --></A><H3>
addLeavingEndpoint</H3>
<PRE>
public void <B>addLeavingEndpoint</B>(java.net.InetAddress&nbsp;endpoint)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="addMovingEndpoint(org.apache.cassandra.dht.Token, java.net.InetAddress)"><!-- --></A><H3>
addMovingEndpoint</H3>
<PRE>
public void <B>addMovingEndpoint</B>(<A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A>&nbsp;token,
                              java.net.InetAddress&nbsp;endpoint)</PRE>
<DL>
<DD>Add a new moving endpoint
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>token</CODE> - token which is node moving to<DD><CODE>endpoint</CODE> - address of the moving node</DL>
</DD>
</DL>
<HR>

<A NAME="removeEndpoint(java.net.InetAddress)"><!-- --></A><H3>
removeEndpoint</H3>
<PRE>
public void <B>removeEndpoint</B>(java.net.InetAddress&nbsp;endpoint)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="removeFromMoving(java.net.InetAddress)"><!-- --></A><H3>
removeFromMoving</H3>
<PRE>
public void <B>removeFromMoving</B>(java.net.InetAddress&nbsp;endpoint)</PRE>
<DL>
<DD>Remove pair of token/address from moving endpoints
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>endpoint</CODE> - address of the moving node</DL>
</DD>
</DL>
<HR>

<A NAME="getToken(java.net.InetAddress)"><!-- --></A><H3>
getToken</H3>
<PRE>
public <A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A> <B>getToken</B>(java.net.InetAddress&nbsp;endpoint)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="isMember(java.net.InetAddress)"><!-- --></A><H3>
isMember</H3>
<PRE>
public boolean <B>isMember</B>(java.net.InetAddress&nbsp;endpoint)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="isLeaving(java.net.InetAddress)"><!-- --></A><H3>
isLeaving</H3>
<PRE>
public boolean <B>isLeaving</B>(java.net.InetAddress&nbsp;endpoint)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="isMoving(java.net.InetAddress)"><!-- --></A><H3>
isMoving</H3>
<PRE>
public boolean <B>isMoving</B>(java.net.InetAddress&nbsp;endpoint)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="cloneOnlyTokenMap()"><!-- --></A><H3>
cloneOnlyTokenMap</H3>
<PRE>
public <A HREF="../../../../org/apache/cassandra/locator/TokenMetadata.html" title="class in org.apache.cassandra.locator">TokenMetadata</A> <B>cloneOnlyTokenMap</B>()</PRE>
<DL>
<DD>Create a copy of TokenMetadata with only tokenToEndpointMap. That is, pending ranges,
 bootstrap tokens and leaving endpoints are not included in the copy.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="cloneAfterAllLeft()"><!-- --></A><H3>
cloneAfterAllLeft</H3>
<PRE>
public <A HREF="../../../../org/apache/cassandra/locator/TokenMetadata.html" title="class in org.apache.cassandra.locator">TokenMetadata</A> <B>cloneAfterAllLeft</B>()</PRE>
<DL>
<DD>Create a copy of TokenMetadata with tokenToEndpointMap reflecting situation after all
 current leave operations have finished.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>new token metadata</DL>
</DD>
</DL>
<HR>

<A NAME="cloneAfterAllSettled()"><!-- --></A><H3>
cloneAfterAllSettled</H3>
<PRE>
public <A HREF="../../../../org/apache/cassandra/locator/TokenMetadata.html" title="class in org.apache.cassandra.locator">TokenMetadata</A> <B>cloneAfterAllSettled</B>()</PRE>
<DL>
<DD>Create a copy of TokenMetadata with tokenToEndpointMap reflecting situation after all
 current leave and move operations have finished.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>new token metadata</DL>
</DD>
</DL>
<HR>

<A NAME="getEndpoint(org.apache.cassandra.dht.Token)"><!-- --></A><H3>
getEndpoint</H3>
<PRE>
public java.net.InetAddress <B>getEndpoint</B>(<A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A>&nbsp;token)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getPrimaryRangeFor(org.apache.cassandra.dht.Token)"><!-- --></A><H3>
getPrimaryRangeFor</H3>
<PRE>
public <A HREF="../../../../org/apache/cassandra/dht/Range.html" title="class in org.apache.cassandra.dht">Range</A>&lt;<A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A>&gt; <B>getPrimaryRangeFor</B>(<A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A>&nbsp;right)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="sortedTokens()"><!-- --></A><H3>
sortedTokens</H3>
<PRE>
public java.util.ArrayList&lt;<A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A>&gt; <B>sortedTokens</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getPendingRanges(java.lang.String)"><!-- --></A><H3>
getPendingRanges</H3>
<PRE>
public java.util.Map&lt;<A HREF="../../../../org/apache/cassandra/dht/Range.html" title="class in org.apache.cassandra.dht">Range</A>&lt;<A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A>&gt;,java.util.Collection&lt;java.net.InetAddress&gt;&gt; <B>getPendingRanges</B>(java.lang.String&nbsp;table)</PRE>
<DL>
<DD>a mutable map may be returned but caller should not modify it
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getPendingRanges(java.lang.String, java.net.InetAddress)"><!-- --></A><H3>
getPendingRanges</H3>
<PRE>
public java.util.List&lt;<A HREF="../../../../org/apache/cassandra/dht/Range.html" title="class in org.apache.cassandra.dht">Range</A>&lt;<A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A>&gt;&gt; <B>getPendingRanges</B>(java.lang.String&nbsp;table,
                                                     java.net.InetAddress&nbsp;endpoint)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setPendingRanges(java.lang.String, com.google.common.collect.Multimap)"><!-- --></A><H3>
setPendingRanges</H3>
<PRE>
public void <B>setPendingRanges</B>(java.lang.String&nbsp;table,
                             com.google.common.collect.Multimap&lt;<A HREF="../../../../org/apache/cassandra/dht/Range.html" title="class in org.apache.cassandra.dht">Range</A>&lt;<A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A>&gt;,java.net.InetAddress&gt;&nbsp;rangeMap)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getPredecessor(org.apache.cassandra.dht.Token)"><!-- --></A><H3>
getPredecessor</H3>
<PRE>
public <A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A> <B>getPredecessor</B>(<A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A>&nbsp;token)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getSuccessor(org.apache.cassandra.dht.Token)"><!-- --></A><H3>
getSuccessor</H3>
<PRE>
public <A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A> <B>getSuccessor</B>(<A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A>&nbsp;token)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getBootstrapTokens()"><!-- --></A><H3>
getBootstrapTokens</H3>
<PRE>
public java.util.Map&lt;<A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A>,java.net.InetAddress&gt; <B>getBootstrapTokens</B>()</PRE>
<DL>
<DD>caller should not modify bootstrapTokens
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getLeavingEndpoints()"><!-- --></A><H3>
getLeavingEndpoints</H3>
<PRE>
public java.util.Set&lt;java.net.InetAddress&gt; <B>getLeavingEndpoints</B>()</PRE>
<DL>
<DD>caller should not modify leavingEndpoints
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getMovingEndpoints()"><!-- --></A><H3>
getMovingEndpoints</H3>
<PRE>
public java.util.Set&lt;<A HREF="../../../../org/apache/cassandra/utils/Pair.html" title="class in org.apache.cassandra.utils">Pair</A>&lt;<A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A>,java.net.InetAddress&gt;&gt; <B>getMovingEndpoints</B>()</PRE>
<DL>
<DD>Endpoints which are migrating to the new tokens
<P>
<DD><DL>

<DT><B>Returns:</B><DD>set of addresses of moving endpoints</DL>
</DD>
</DL>
<HR>

<A NAME="firstTokenIndex(java.util.ArrayList, org.apache.cassandra.dht.Token, boolean)"><!-- --></A><H3>
firstTokenIndex</H3>
<PRE>
public static int <B>firstTokenIndex</B>(java.util.ArrayList&nbsp;ring,
                                  <A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A>&nbsp;start,
                                  boolean&nbsp;insertMin)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="firstToken(java.util.ArrayList, org.apache.cassandra.dht.Token)"><!-- --></A><H3>
firstToken</H3>
<PRE>
public static <A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A> <B>firstToken</B>(java.util.ArrayList&lt;<A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A>&gt;&nbsp;ring,
                               <A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A>&nbsp;start)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="ringIterator(java.util.ArrayList, org.apache.cassandra.dht.Token, boolean)"><!-- --></A><H3>
ringIterator</H3>
<PRE>
public static java.util.Iterator&lt;<A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A>&gt; <B>ringIterator</B>(java.util.ArrayList&lt;<A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A>&gt;&nbsp;ring,
                                                     <A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A>&nbsp;start,
                                                     boolean&nbsp;includeMin)</PRE>
<DL>
<DD>iterator over the Tokens in the given ring, starting with the token for the node owning start
 (which does not have to be a Token in the ring)
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>includeMin</CODE> - True if the minimum token should be returned in the ring even if it has no owner.</DL>
</DD>
</DL>
<HR>

<A NAME="clearUnsafe()"><!-- --></A><H3>
clearUnsafe</H3>
<PRE>
public void <B>clearUnsafe</B>()</PRE>
<DL>
<DD>used by tests
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="toString()"><!-- --></A><H3>
toString</H3>
<PRE>
public java.lang.String <B>toString</B>()</PRE>
<DL>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE>toString</CODE> in class <CODE>java.lang.Object</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="printPendingRanges()"><!-- --></A><H3>
printPendingRanges</H3>
<PRE>
public java.lang.String <B>printPendingRanges</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="invalidateCaches()"><!-- --></A><H3>
invalidateCaches</H3>
<PRE>
public void <B>invalidateCaches</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="register(org.apache.cassandra.locator.AbstractReplicationStrategy)"><!-- --></A><H3>
register</H3>
<PRE>
public void <B>register</B>(<A HREF="../../../../org/apache/cassandra/locator/AbstractReplicationStrategy.html" title="class in org.apache.cassandra.locator">AbstractReplicationStrategy</A>&nbsp;subscriber)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="unregister(org.apache.cassandra.locator.AbstractReplicationStrategy)"><!-- --></A><H3>
unregister</H3>
<PRE>
public void <B>unregister</B>(<A HREF="../../../../org/apache/cassandra/locator/AbstractReplicationStrategy.html" title="class in org.apache.cassandra.locator">AbstractReplicationStrategy</A>&nbsp;subscriber)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getWriteEndpoints(org.apache.cassandra.dht.Token, java.lang.String, java.util.Collection)"><!-- --></A><H3>
getWriteEndpoints</H3>
<PRE>
public java.util.Collection&lt;java.net.InetAddress&gt; <B>getWriteEndpoints</B>(<A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A>&nbsp;token,
                                                                    java.lang.String&nbsp;table,
                                                                    java.util.Collection&lt;java.net.InetAddress&gt;&nbsp;naturalEndpoints)</PRE>
<DL>
<DD>write endpoints may be different from read endpoints, because read endpoints only need care about the
 "natural" nodes for a token, but write endpoints also need to account for nodes that are bootstrapping
 into the ring, and write data there too so that they stay up to date during the bootstrap process.
 Thus, this method may return more nodes than the Replication Factor.

 If possible, will return the same collection it was passed, for efficiency.

 Only ReplicationStrategy should care about this method (higher level users should only ask for Hinted).
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getTokenToEndpointMapForReading()"><!-- --></A><H3>
getTokenToEndpointMapForReading</H3>
<PRE>
public java.util.Map&lt;<A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A>,java.net.InetAddress&gt; <B>getTokenToEndpointMapForReading</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>a token to endpoint map to consider for read operations on the cluster.</DL>
</DD>
</DL>
<HR>

<A NAME="getNormalAndBootstrappingTokenToEndpointMap()"><!-- --></A><H3>
getNormalAndBootstrappingTokenToEndpointMap</H3>
<PRE>
public java.util.Map&lt;<A HREF="../../../../org/apache/cassandra/dht/Token.html" title="class in org.apache.cassandra.dht">Token</A>,java.net.InetAddress&gt; <B>getNormalAndBootstrappingTokenToEndpointMap</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>a (stable copy, won't be modified) Token to Endpoint map for all the normal and bootstrapping nodes
         in the cluster.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/TokenMetadata.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/apache/cassandra/locator/SimpleStrategy.html" title="class in org.apache.cassandra.locator"><B>PREV CLASS</B></A>&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?org/apache/cassandra/locator/TokenMetadata.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="TokenMetadata.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &copy; 2012 The Apache Software Foundation
</BODY>
</HTML>
